:root{
  --bg1: #120014;
  --bg2: #2a001d;
  --card: rgba(255,255,255,0.06);
  --card2: rgba(255,255,255,0.04);
  --border: rgba(255,255,255,0.12);

  --pink: #ff4da6;
  --rose: #ff7bbf;
  --peach: #ffd1e8;
  --mint: #8bffd1;

  --glow: rgba(255,77,166,0.18);
  --shadow: rgba(0,0,0,0.45);
}

*{ box-sizing: border-box; }

body{
  min-height: 100vh;
  color: #fff;
  background:
    radial-gradient(900px 700px at 15% 10%, rgba(255,77,166,0.20), transparent 55%),
    radial-gradient(900px 700px at 85% 20%, rgba(255,180,220,0.14), transparent 60%),
    radial-gradient(900px 700px at 60% 90%, rgba(139,255,209,0.08), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  overflow-x: hidden;
}

/* floating hearts background */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  opacity: 0.55;
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255,77,166,0.20) 0 2px, transparent 3px),
    radial-gradient(circle at 80% 30%, rgba(255,210,232,0.16) 0 2px, transparent 3px),
    radial-gradient(circle at 55% 75%, rgba(255,77,166,0.14) 0 2px, transparent 3px),
    radial-gradient(circle at 30% 60%, rgba(255,210,232,0.12) 0 2px, transparent 3px);
  filter: blur(0.2px);
}

/* Header */
h4{
  letter-spacing: 0.2px;
}

.badge{
  border: 1px solid rgba(255,255,255,0.12) !important;
}

#levelBadge{
  background: linear-gradient(90deg, rgba(255,77,166,0.35), rgba(255,180,220,0.22)) !important;
}

#progressBadge{
  background: rgba(255,255,255,0.08) !important;
}

/* Buttons */
.btn{
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
}

.btn-outline-light{
  background: rgba(255,255,255,0.05);
}

.btn-outline-light:hover{
  background: rgba(255,255,255,0.10);
  box-shadow: 0 14px 40px var(--shadow);
}

.btn-success{
  background: linear-gradient(90deg, rgba(255,77,166,0.95), rgba(255,180,220,0.85));
  border: none;
  box-shadow: 0 14px 40px rgba(255,77,166,0.18);
}

.btn-success:disabled{
  opacity: 0.45;
  filter: grayscale(0.1);
  cursor: not-allowed;
}

/* Layout */
.game-wrap{
  display: grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 14px;
}

@media (max-width: 992px){
  .game-wrap{ grid-template-columns: 1fr; }
}

.board-col, .tray-col{
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
  border: 1px solid var(--border);
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 24px 70px var(--shadow);
  position: relative;
}

.board-col::after, .tray-col::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius: 18px;
  pointer-events:none;
  box-shadow: 0 0 0 1px rgba(255,77,166,0.12), 0 0 0 10px rgba(255,77,166,0.02);
}

.board-header, .tray-header{
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
}

.board{
  position: relative;
  width: 100%;
  height: auto;
  background:
    radial-gradient(600px 350px at 30% 30%, rgba(255,77,166,0.10), transparent 60%),
    rgba(0,0,0,0.20);
  overflow: hidden;
}

.tray{
  position: relative;
  height: 70vh;
  min-height: 520px;
  background:
    radial-gradient(700px 400px at 40% 20%, rgba(255,180,220,0.10), transparent 60%),
    rgba(0,0,0,0.22);
  overflow: hidden;
}

@media (max-width: 992px){
  .tray{ height: 55vh; min-height: 420px; }
}

/* Pieces (works with your jigsaw mask) */
.piece{
  position: absolute;
  background-repeat: no-repeat;
  cursor: grab;
  user-select: none;
  touch-action: none;
  transition: transform 120ms ease, filter 120ms ease;
  filter: drop-shadow(0 12px 24px rgba(0,0,0,0.45));
}

.piece:hover{
  filter: drop-shadow(0 18px 40px rgba(255,77,166,0.10)) drop-shadow(0 12px 28px rgba(0,0,0,0.55));
}

.piece:active{
  cursor: grabbing;
  transform: scale(1.02);
  filter: drop-shadow(0 22px 55px rgba(255,77,166,0.18)) drop-shadow(0 18px 40px rgba(0,0,0,0.65));
}

.piece.locked{
  cursor: default;
  transform: none !important;
  filter: drop-shadow(0 0 0 rgba(0,0,0,0));
}

.piece.locked::after{
  content:"";
  position:absolute;
  inset: 0;
  pointer-events:none;
  border-radius: 12px;
  box-shadow: inset 0 0 0 2px rgba(255,77,166,0.12);
}

/* Modal love styling */
.modal-content{
  border-radius: 18px !important;
  background: linear-gradient(180deg, rgba(30,0,20,0.92), rgba(12,0,10,0.92)) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
}

.modal-header, .modal-footer{
  border-color: rgba(255,255,255,0.10) !important;
}

.btn-close-white{
  filter: drop-shadow(0 10px 20px rgba(0,0,0,0.35));
}
